pipeline {
   agent any
   
options {
  buildDiscarder logRotator(artifactDaysToKeepStr: '', artifactNumToKeepStr: '', daysToKeepStr: '', numToKeepStr: '5')
}

   tools {
  maven 'Maven 3.6.3'
}

   stages {
 
     stage('test') {
        steps {
        //bat 'icacls "/c/Program Files (x86)/Jenkins" /grant jenkins:F /T'
        sh 'cp /c/Users/Sibu/.kube/config "/c/Program Files (x86)/Jenkins/.kube/"'
        sh 'sudo chown -R jenkins: "/c/Program Files (x86)/Jenkins/.kube/"'
        sh 'cd "/c/Users/Sibu/Desktop/Devops/Ansible/Manifestfiles"'
        sh ' kubectl apply -f kubedeploy.yml'
       
        }
     }

     
}

}
